{
    "instance_id": "matplotlib__matplotlib-23964",
    "model_name_or_path": "codestory-mixed",
    "model_patch": "diff --git a/lib/matplotlib/backends/backend_ps.py b/lib/matplotlib/backends/backend_ps.py\nindex f209e811f1..0483085561 100644\n--- a/lib/matplotlib/backends/backend_ps.py\n+++ b/lib/matplotlib/backends/backend_ps.py\n@@ -665,12 +665,15 @@ grestore\n                 curr_stream[1].append(\n                     (item.x, item.ft_object.get_glyph_name(item.glyph_idx))\n                 )\n-            # append the last entry\n-            stream.append(curr_stream)\n+            # append the last entry if it's not empty\n+            if curr_stream and curr_stream[1]:\n+                stream.append(curr_stream)\n \n         self.set_color(*gc.get_rgb())\n \n         for ps_name, xs_names in stream:\n+            if not xs_names:  # Skip empty streams\n+                continue\n             self.set_font(ps_name, prop.get_size_in_points(), False)\n             thetext = \"\\n\".join(f\"{x:g} 0 m /{name:s} glyphshow\"\n                                 for x, name in xs_names)\n",
    "resolved": true
}