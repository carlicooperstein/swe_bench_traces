{
    "instance_id": "astropy__astropy-14182",
    "model_name_or_path": "codestory-mixed",
    "model_patch": "diff --git a/astropy/io/ascii/fixedwidth.py b/astropy/io/ascii/fixedwidth.py\nindex fdadbbc050..bbdad0d71f 100644\n--- a/astropy/io/ascii/fixedwidth.py\n+++ b/astropy/io/ascii/fixedwidth.py\n@@ -344,15 +344,17 @@ class FixedWidth(basic.Basic):\n         bookend=True,\n         header_rows=None,\n     ):\n-        if header_rows is None:\n-            header_rows = [\"name\"]\n         super().__init__()\n         self.data.splitter.delimiter_pad = delimiter_pad\n         self.data.splitter.bookend = bookend\n         self.header.col_starts = col_starts\n         self.header.col_ends = col_ends\n+        \n+        if header_rows is None:\n+            header_rows = [\"name\"]\n         self.header.header_rows = header_rows\n         self.data.header_rows = header_rows\n+        \n         if self.data.start_line is None:\n             self.data.start_line = len(header_rows)\n \ndiff --git a/astropy/io/ascii/rst.py b/astropy/io/ascii/rst.py\nindex abdeba8efb..c33db4432e 100644\n--- a/astropy/io/ascii/rst.py\n+++ b/astropy/io/ascii/rst.py\n@@ -33,34 +33,40 @@ class SimpleRSTData(FixedWidthData):\n \n \n class RST(FixedWidth):\n-    \"\"\"reStructuredText simple format table.\n-\n+    \"\"\"\n+    reStructuredText simple format table.\n     See: https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#simple-tables\n \n     Example::\n-\n         ==== ===== ======\n-        Col1  Col2  Col3\n+         Col1 Col2  Col3\n         ==== ===== ======\n-          1    2.3  Hello\n-          2    4.5  Worlds\n+           1   2.3  Hello\n+           2   4.5  Worlds\n         ==== ===== ======\n \n     Currently there is no support for reading tables which utilize continuation lines,\n-    or for ones which define column spans through the use of an additional\n-    line of dashes in the header.\n-\n+    or for ones which define column spans through the use of an additional line of dashes in the header.\n     \"\"\"\n-\n     _format_name = \"rst\"\n     _description = \"reStructuredText simple table\"\n     data_class = SimpleRSTData\n     header_class = SimpleRSTHeader\n \n-    def __init__(self):\n-        super().__init__(delimiter_pad=None, bookend=False)\n+    def __init__(self, header_rows=None):\n+        super().__init__(delimiter_pad=None, bookend=False, header_rows=header_rows)\n \n     def write(self, lines):\n         lines = super().write(lines)\n-        lines = [lines[1]] + lines + [lines[1]]\n+        # Use header rows to determine the length of the header\n+        header_len = len(self.header.header_rows)\n+        lines = [lines[header_len]] + lines+ [lines[header_len]]\n+        return lines\n+\n+    def read(self, lines):\n+        self.data.start_line = 2 + len(self.header.header_rows)\n+        lines = super().read(lines)\n         return lines\n+\n+    def _format_header_row(self, row):\n+        return \" \".join(row)\n",
    "resolved": true
}